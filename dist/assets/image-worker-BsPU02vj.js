!function(){"use strict";function e(e,r){return new Promise(function(n,i){let o;return t(e).then(function(e){try{return o=e,n(new Blob([r.slice(0,2),o,r.slice(2)],{type:"image/jpeg"}))}catch(t){return i(t)}},i)})}const t=e=>new Promise((t,r)=>{const n=new FileReader;n.addEventListener("load",({target:{result:e}})=>{const n=new DataView(e);let i=0;if(65496!==n.getUint16(i))return r("not a valid JPEG");for(i+=2;;){const o=n.getUint16(i);if(65498===o)break;const a=n.getUint16(i+2);if(65505===o&&1165519206===n.getUint32(i+4)){const o=i+10;let s;switch(n.getUint16(o)){case 18761:s=!0;break;case 19789:s=!1;break;default:return r("TIFF header contains invalid endian")}if(42!==n.getUint16(o+2,s))return r("TIFF header contains invalid version");const f=n.getUint32(o+4,s),c=o+f+2+12*n.getUint16(o+f,s);for(let e=o+f+2;e<c;e+=12)if(274==n.getUint16(e,s)){if(3!==n.getUint16(e+2,s))return r("Orientation data type is invalid");if(1!==n.getUint32(e+4,s))return r("Orientation data count is invalid");n.setUint16(e+8,1,s);break}return t(e.slice(i,i+2+a))}i+=2+a}return t(new Blob)}),n.readAsArrayBuffer(e)});var r,n,i,o={},a={get exports(){return o},set exports(e){o=e}};i={},a.exports=i,i.parse=function(e,t){for(var r=i.bin.readUshort,n=i.bin.readUint,o=0,a={},s=new Uint8Array(e),f=s.length-4;101010256!=n(s,f);)f--;o=f,o+=4;var c=r(s,o+=4);r(s,o+=2);var l=n(s,o+=2),u=n(s,o+=4);o+=4,o=u;for(var h=0;h<c;h++){n(s,o),o+=4,o+=4,o+=4,n(s,o+=4),l=n(s,o+=4);var d=n(s,o+=4),g=r(s,o+=4),p=r(s,o+2),A=r(s,o+4);o+=6;var w=n(s,o+=8);o+=4,o+=g+p+A,i._readLocal(s,w,a,l,d,t)}return a},i._readLocal=function(e,t,r,n,o,a){var s=i.bin.readUshort,f=i.bin.readUint;f(e,t),s(e,t+=4),s(e,t+=2);var c=s(e,t+=2);f(e,t+=2),f(e,t+=4),t+=4;var l=s(e,t+=8),u=s(e,t+=2);t+=2;var h=i.bin.readUTF8(e,t,l);if(t+=l,t+=u,a)r[h]={size:o,csize:n};else{var d=new Uint8Array(e.buffer,t);if(0==c)r[h]=new Uint8Array(d.buffer.slice(t,t+n));else{if(8!=c)throw"unknown compression method: "+c;var g=new Uint8Array(o);i.inflateRaw(d,g),r[h]=g}}},i.inflateRaw=function(e,t){return i.F.inflate(e,t)},i.inflate=function(e,t){return e[0],e[1],i.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},i.deflate=function(e,t){null==t&&(t={level:6});var r=0,n=new Uint8Array(50+Math.floor(1.1*e.length));n[r]=120,n[r+1]=156,r+=2,r=i.F.deflateRaw(e,n,r,t.level);var o=i.adler(e,0,e.length);return n[r+0]=o>>>24&255,n[r+1]=o>>>16&255,n[r+2]=o>>>8&255,n[r+3]=o>>>0&255,new Uint8Array(n.buffer,0,r+4)},i.deflateRaw=function(e,t){null==t&&(t={level:6});var r=new Uint8Array(50+Math.floor(1.1*e.length)),n=i.F.deflateRaw(e,r,n,t.level);return new Uint8Array(r.buffer,0,n)},i.encode=function(e,t){null==t&&(t=!1);var r=0,n=i.bin.writeUint,o=i.bin.writeUshort,a={};for(var s in e){var f=!i._noNeed(s)&&!t,c=e[s],l=i.crc.crc(c,0,c.length);a[s]={cpr:f,usize:c.length,crc:l,file:f?i.deflateRaw(c):c}}for(var s in a)r+=a[s].file.length+30+46+2*i.bin.sizeUTF8(s);r+=22;var u=new Uint8Array(r),h=0,d=[];for(var s in a){var g=a[s];d.push(h),h=i._writeHeader(u,h,s,g,0)}var p=0,A=h;for(var s in a)g=a[s],d.push(h),h=i._writeHeader(u,h,s,g,1,d[p++]);var w=h-A;return n(u,h,101010256),h+=4,o(u,h+=4,p),o(u,h+=2,p),n(u,h+=2,w),n(u,h+=4,A),h+=4,h+=2,u.buffer},i._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return-1!="png,jpg,jpeg,zip".indexOf(t)},i._writeHeader=function(e,t,r,n,o,a){var s=i.bin.writeUint,f=i.bin.writeUshort,c=n.file;return s(e,t,0==o?67324752:33639248),t+=4,1==o&&(t+=2),f(e,t,20),f(e,t+=2,0),f(e,t+=2,n.cpr?8:0),s(e,t+=2,0),s(e,t+=4,n.crc),s(e,t+=4,c.length),s(e,t+=4,n.usize),f(e,t+=4,i.bin.sizeUTF8(r)),f(e,t+=2,0),t+=2,1==o&&(t+=2,t+=2,s(e,t+=6,a),t+=4),t+=i.bin.writeUTF8(e,t,r),0==o&&(e.set(c,t),t+=c.length),t},i.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var r=t,n=0;n<8;n++)1&r?r=3988292384^r>>>1:r>>>=1;e[t]=r}return e}(),update:function(e,t,r,n){for(var o=0;o<n;o++)e=i.crc.table[255&(e^t[r+o])]^e>>>8;return e},crc:function(e,t,r){return 4294967295^i.crc.update(4294967295,e,t,r)}},i.adler=function(e,t,r){for(var n=1,i=0,o=t,a=t+r;o<a;){for(var s=Math.min(o+5552,a);o<s;)i+=n+=e[o++];n%=65521,i%=65521}return i<<16|n},i.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,r){e[t]=255&r,e[t+1]=r>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,r){e[t]=255&r,e[t+1]=r>>8&255,e[t+2]=r>>16&255,e[t+3]=r>>24&255},readASCII:function(e,t,r){for(var n="",i=0;i<r;i++)n+=String.fromCharCode(e[t+i]);return n},writeASCII:function(e,t,r){for(var n=0;n<r.length;n++)e[t+n]=r.charCodeAt(n)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,r){for(var n,o="",a=0;a<r;a++)o+="%"+i.bin.pad(e[t+a].toString(16));try{n=decodeURIComponent(o)}catch(s){return i.bin.readASCII(e,t,r)}return n},writeUTF8:function(e,t,r){for(var n=r.length,i=0,o=0;o<n;o++){var a=r.charCodeAt(o);if(4294967168&a)if(4294965248&a)if(4294901760&a){if(4292870144&a)throw"e";e[t+i]=240|a>>18,e[t+i+1]=128|a>>12&63,e[t+i+2]=128|a>>6&63,e[t+i+3]=128|63&a,i+=4}else e[t+i]=224|a>>12,e[t+i+1]=128|a>>6&63,e[t+i+2]=128|63&a,i+=3;else e[t+i]=192|a>>6,e[t+i+1]=128|63&a,i+=2;else e[t+i]=a,i++}return i},sizeUTF8:function(e){for(var t=e.length,r=0,n=0;n<t;n++){var i=e.charCodeAt(n);if(4294967168&i)if(4294965248&i)if(4294901760&i){if(4292870144&i)throw"e";r+=4}else r+=3;else r+=2;else r++}return r}},i.F={},i.F.deflateRaw=function(e,t,r,n){var o=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][n],a=i.F.U,s=i.F._goodIndex;i.F._hash;var f=i.F._putsE,c=0,l=r<<3,u=0,h=e.length;if(0==n){for(;c<h;)f(t,l,c+(E=Math.min(65535,h-c))==h?1:0),l=i.F._copyExact(e,c,E,t,l+8),c+=E;return l>>>3}var d=a.lits,g=a.strt,p=a.prev,A=0,w=0,m=0,v=0,b=0,y=0;for(h>2&&(g[y=i.F._hash(e,0)]=0),c=0;c<h;c++){if(b=y,c+1<h-2){y=i.F._hash(e,c+1);var U=c+1&32767;p[U]=g[y],g[y]=U}if(u<=c){(A>14e3||w>26697)&&h-c>100&&(u<c&&(d[A]=c-u,A+=2,u=c),l=i.F._writeBlock(c==h-1||u==h?1:0,d,A,v,e,m,c-m,t,l),A=w=v=0,m=c);var F=0;c<h-2&&(F=i.F._bestMatch(e,c,p,b,Math.min(o[2],h-c),o[3]));var E=F>>>16,C=65535&F;if(0!=F){C=65535&F;var _=s(E=F>>>16,a.of0);a.lhst[257+_]++;var I=s(C,a.df0);a.dhst[I]++,v+=a.exb[_]+a.dxb[I],d[A]=E<<23|c-u,d[A+1]=C<<16|_<<8|I,A+=2,u=c+E}else a.lhst[e[c]]++;w++}}for(m==c&&0!=e.length||(u<c&&(d[A]=c-u,A+=2,u=c),l=i.F._writeBlock(1,d,A,v,e,m,c-m,t,l),A=0,w=0,A=w=v=0,m=c);7&l;)l++;return l>>>3},i.F._bestMatch=function(e,t,r,n,o,a){var s=32767&t,f=r[s],c=s-f+32768&32767;if(f==s||n!=i.F._hash(e,t-c))return 0;for(var l=0,u=0,h=Math.min(32767,t);c<=h&&0!=--a&&f!=s;){if(0==l||e[t+l]==e[t+l-c]){var d=i.F._howLong(e,t,c);if(d>l){if(u=c,(l=d)>=o)break;c+2<d&&(d=c+2);for(var g=0,p=0;p<d-2;p++){var A=t-c+p+32768&32767,w=A-r[A]+32768&32767;w>g&&(g=w,f=A)}}}c+=(s=f)-(f=r[s])+32768&32767}return l<<16|u},i.F._howLong=function(e,t,r){if(e[t]!=e[t-r]||e[t+1]!=e[t+1-r]||e[t+2]!=e[t+2-r])return 0;var n=t,i=Math.min(e.length,t+258);for(t+=3;t<i&&e[t]==e[t-r];)t++;return t-n},i.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},i.saved=0,i.F._writeBlock=function(e,t,r,n,o,a,s,f,c){var l,u,h,d,g,p,A,w,m,v=i.F.U,b=i.F._putsF,y=i.F._putsE;v.lhst[256]++,u=(l=i.F.getTrees())[0],h=l[1],d=l[2],g=l[3],p=l[4],A=l[5],w=l[6],m=l[7];var U=32+(c+3&7?8-(c+3&7):0)+(s<<3),F=n+i.F.contSize(v.fltree,v.lhst)+i.F.contSize(v.fdtree,v.dhst),E=n+i.F.contSize(v.ltree,v.lhst)+i.F.contSize(v.dtree,v.dhst);E+=14+3*A+i.F.contSize(v.itree,v.ihst)+(2*v.ihst[16]+3*v.ihst[17]+7*v.ihst[18]);for(var C=0;C<286;C++)v.lhst[C]=0;for(C=0;C<30;C++)v.dhst[C]=0;for(C=0;C<19;C++)v.ihst[C]=0;var _=U<F&&U<E?0:F<E?1:2;if(b(f,c,e),b(f,c+1,_),c+=3,0==_){for(;7&c;)c++;c=i.F._copyExact(o,a,s,f,c)}else{var I,B;if(1==_&&(I=v.fltree,B=v.fdtree),2==_){i.F.makeCodes(v.ltree,u),i.F.revCodes(v.ltree,u),i.F.makeCodes(v.dtree,h),i.F.revCodes(v.dtree,h),i.F.makeCodes(v.itree,d),i.F.revCodes(v.itree,d),I=v.ltree,B=v.dtree,y(f,c,g-257),y(f,c+=5,p-1),y(f,c+=5,A-4),c+=4;for(var M=0;M<A;M++)y(f,c+3*M,v.itree[1+(v.ordr[M]<<1)]);c+=3*A,c=i.F._codeTiny(w,v.itree,f,c),c=i.F._codeTiny(m,v.itree,f,c)}for(var x=a,S=0;S<r;S+=2){for(var R=t[S],T=R>>>23,Q=x+(8388607&R);x<Q;)c=i.F._writeLit(o[x++],I,f,c);if(0!=T){var k=t[S+1],H=k>>16,O=k>>8&255,P=255&k;y(f,c=i.F._writeLit(257+O,I,f,c),T-v.of0[O]),c+=v.exb[O],b(f,c=i.F._writeLit(P,B,f,c),H-v.df0[P]),c+=v.dxb[P],x+=T}}c=i.F._writeLit(256,I,f,c)}return c},i.F._copyExact=function(e,t,r,n,i){var o=i>>>3;return n[o]=r,n[o+1]=r>>>8,n[o+2]=255-n[o],n[o+3]=255-n[o+1],o+=4,n.set(new Uint8Array(e.buffer,t,r),o),i+(r+4<<3)},i.F.getTrees=function(){for(var e=i.F.U,t=i.F._hufTree(e.lhst,e.ltree,15),r=i.F._hufTree(e.dhst,e.dtree,15),n=[],o=i.F._lenCodes(e.ltree,n),a=[],s=i.F._lenCodes(e.dtree,a),f=0;f<n.length;f+=2)e.ihst[n[f]]++;for(f=0;f<a.length;f+=2)e.ihst[a[f]]++;for(var c=i.F._hufTree(e.ihst,e.itree,7),l=19;l>4&&0==e.itree[1+(e.ordr[l-1]<<1)];)l--;return[t,r,c,o,s,l,n,a]},i.F.getSecond=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(e[r+1]);return t},i.F.nonZero=function(e){for(var t="",r=0;r<e.length;r+=2)0!=e[r+1]&&(t+=(r>>1)+",");return t},i.F.contSize=function(e,t){for(var r=0,n=0;n<t.length;n++)r+=t[n]*e[1+(n<<1)];return r},i.F._codeTiny=function(e,t,r,n){for(var o=0;o<e.length;o+=2){var a=e[o],s=e[o+1];n=i.F._writeLit(a,t,r,n);var f=16==a?2:17==a?3:7;a>15&&(i.F._putsE(r,n,s,f),n+=f)}return n},i.F._lenCodes=function(e,t){for(var r=e.length;2!=r&&0==e[r-1];)r-=2;for(var n=0;n<r;n+=2){var i=e[n+1],o=n+3<r?e[n+3]:-1,a=n+5<r?e[n+5]:-1,s=0==n?-1:e[n-1];if(0==i&&o==i&&a==i){for(var f=n+5;f+2<r&&e[f+2]==i;)f+=2;(c=Math.min(f+1-n>>>1,138))<11?t.push(17,c-3):t.push(18,c-11),n+=2*c-2}else if(i==s&&o==i&&a==i){for(f=n+5;f+2<r&&e[f+2]==i;)f+=2;var c=Math.min(f+1-n>>>1,6);t.push(16,c-3),n+=2*c-2}else t.push(i,0)}return r>>>1},i.F._hufTree=function(e,t,r){var n=[],o=e.length,a=t.length,s=0;for(s=0;s<a;s+=2)t[s]=0,t[s+1]=0;for(s=0;s<o;s++)0!=e[s]&&n.push({lit:s,f:e[s]});var f=n.length,c=n.slice(0);if(0==f)return 0;if(1==f){var l=n[0].lit;return c=0==l?1:0,t[1+(l<<1)]=1,t[1+(c<<1)]=1,1}n.sort(function(e,t){return e.f-t.f});var u=n[0],h=n[1],d=0,g=1,p=2;for(n[0]={lit:-1,f:u.f+h.f,l:u,r:h,d:0};g!=f-1;)u=d!=g&&(p==f||n[d].f<n[p].f)?n[d++]:n[p++],h=d!=g&&(p==f||n[d].f<n[p].f)?n[d++]:n[p++],n[g++]={lit:-1,f:u.f+h.f,l:u,r:h};var A=i.F.setDepth(n[g-1],0);for(A>r&&(i.F.restrictDepth(c,r,A),A=r),s=0;s<f;s++)t[1+(c[s].lit<<1)]=c[s].d;return A},i.F.setDepth=function(e,t){return-1!=e.lit?(e.d=t,t):Math.max(i.F.setDepth(e.l,t+1),i.F.setDepth(e.r,t+1))},i.F.restrictDepth=function(e,t,r){var n=0,i=1<<r-t,o=0;for(e.sort(function(e,t){return t.d==e.d?e.f-t.f:t.d-e.d}),n=0;n<e.length&&e[n].d>t;n++){var a=e[n].d;e[n].d=t,o+=i-(1<<r-a)}for(o>>>=r-t;o>0;)(a=e[n].d)<t?(e[n].d++,o-=1<<t-a-1):n++;for(;n>=0;n--)e[n].d==t&&o<0&&(e[n].d--,o++)},i.F._goodIndex=function(e,t){var r=0;return t[16|r]<=e&&(r|=16),t[8|r]<=e&&(r|=8),t[4|r]<=e&&(r|=4),t[2|r]<=e&&(r|=2),t[1|r]<=e&&(r|=1),r},i.F._writeLit=function(e,t,r,n){return i.F._putsF(r,n,t[e<<1]),n+t[1+(e<<1)]},i.F.inflate=function(e,t){var r=Uint8Array;if(3==e[0]&&0==e[1])return t||new r(0);var n=i.F,o=n._bitsF,a=n._bitsE,s=n._decodeTiny,f=n.makeCodes,c=n.codes2map,l=n._get17,u=n.U,h=null==t;h&&(t=new r(e.length>>>2<<3));for(var d,g,p=0,A=0,w=0,m=0,v=0,b=0,y=0,U=0,F=0;0==p;)if(p=o(e,F,1),A=o(e,F+1,2),F+=3,0!=A){if(h&&(t=i.F._check(t,U+(1<<17))),1==A&&(d=u.flmap,g=u.fdmap,b=511,y=31),2==A){w=a(e,F,5)+257,m=a(e,F+5,5)+1,v=a(e,F+10,4)+4,F+=14;for(var E=0;E<38;E+=2)u.itree[E]=0,u.itree[E+1]=0;var C=1;for(E=0;E<v;E++){var _=a(e,F+3*E,3);u.itree[1+(u.ordr[E]<<1)]=_,_>C&&(C=_)}F+=3*v,f(u.itree,C),c(u.itree,C,u.imap),d=u.lmap,g=u.dmap,F=s(u.imap,(1<<C)-1,w+m,e,F,u.ttree);var I=n._copyOut(u.ttree,0,w,u.ltree);b=(1<<I)-1;var B=n._copyOut(u.ttree,w,m,u.dtree);y=(1<<B)-1,f(u.ltree,I),c(u.ltree,I,d),f(u.dtree,B),c(u.dtree,B,g)}for(;;){var M=d[l(e,F)&b];F+=15&M;var x=M>>>4;if(x>>>8==0)t[U++]=x;else{if(256==x)break;var S=U+x-254;if(x>264){var R=u.ldef[x-257];S=U+(R>>>3)+a(e,F,7&R),F+=7&R}var T=g[l(e,F)&y];F+=15&T;var Q=T>>>4,k=u.ddef[Q],H=(k>>>4)+o(e,F,15&k);for(F+=15&k,h&&(t=i.F._check(t,U+(1<<17)));U<S;)t[U]=t[U++-H],t[U]=t[U++-H],t[U]=t[U++-H],t[U]=t[U++-H];U=S}}}else{7&F&&(F+=8-(7&F));var O=4+(F>>>3),P=e[O-4]|e[O-3]<<8;h&&(t=i.F._check(t,U+P)),t.set(new r(e.buffer,e.byteOffset+O,P),U),F=O+P<<3,U+=P}return t.length==U?t:t.slice(0,U)},i.F._check=function(e,t){var r=e.length;if(t<=r)return e;var n=new Uint8Array(Math.max(r<<1,t));return n.set(e,0),n},i.F._decodeTiny=function(e,t,r,n,o,a){for(var s=i.F._bitsE,f=i.F._get17,c=0;c<r;){var l=e[f(n,o)&t];o+=15&l;var u=l>>>4;if(u<=15)a[c]=u,c++;else{var h=0,d=0;16==u?(d=3+s(n,o,2),o+=2,h=a[c-1]):17==u?(d=3+s(n,o,3),o+=3):18==u&&(d=11+s(n,o,7),o+=7);for(var g=c+d;c<g;)a[c]=h,c++}}return o},i.F._copyOut=function(e,t,r,n){for(var i=0,o=0,a=n.length>>>1;o<r;){var s=e[o+t];n[o<<1]=0,n[1+(o<<1)]=s,s>i&&(i=s),o++}for(;o<a;)n[o<<1]=0,n[1+(o<<1)]=0,o++;return i},i.F.makeCodes=function(e,t){for(var r,n,o,a,s=i.F.U,f=e.length,c=s.bl_count,l=0;l<=t;l++)c[l]=0;for(l=1;l<f;l+=2)c[e[l]]++;var u=s.next_code;for(r=0,c[0]=0,n=1;n<=t;n++)r=r+c[n-1]<<1,u[n]=r;for(o=0;o<f;o+=2)0!=(a=e[o+1])&&(e[o]=u[a],u[a]++)},i.F.codes2map=function(e,t,r){for(var n=e.length,o=i.F.U.rev15,a=0;a<n;a+=2)if(0!=e[a+1])for(var s=a>>1,f=e[a+1],c=s<<4|f,l=t-f,u=e[a]<<l,h=u+(1<<l);u!=h;)r[o[u]>>>15-t]=c,u++},i.F.revCodes=function(e,t){for(var r=i.F.U.rev15,n=15-t,o=0;o<e.length;o+=2){var a=e[o]<<t-e[o+1];e[o]=r[a]>>>n}},i.F._putsE=function(e,t,r){r<<=7&t;var n=t>>>3;e[n]|=r,e[n+1]|=r>>>8},i.F._putsF=function(e,t,r){r<<=7&t;var n=t>>>3;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},i.F._bitsE=function(e,t,r){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<r)-1},i.F._bitsF=function(e,t,r){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<r)-1},i.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},i.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},i.F.U=(r=Uint16Array,n=Uint32Array,{next_code:new r(16),bl_count:new r(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new r(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new r(512),fltree:[],fdmap:new r(32),fdtree:[],lmap:new r(32768),ltree:[],ttree:[],dmap:new r(32768),dtree:[],imap:new r(512),itree:[],rev15:new r(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new r(65536),prev:new r(32768)}),function(){for(var e=i.F.U,t=0;t<32768;t++){var r=t;r=(4278255360&(r=(4042322160&(r=(3435973836&(r=(2863311530&r)>>>1|(1431655765&r)<<1))>>>2|(858993459&r)<<2))>>>4|(252645135&r)<<4))>>>8|(16711935&r)<<8,e.rev15[t]=(r>>>16|r<<16)>>>17}function n(e,t,r){for(;0!=t--;)e.push(0,r)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];n(e.fltree,144,8),n(e.fltree,112,9),n(e.fltree,24,7),n(e.fltree,8,8),i.F.makeCodes(e.fltree,9),i.F.codes2map(e.fltree,9,e.flmap),i.F.revCodes(e.fltree,9),n(e.fdtree,32,5),i.F.makeCodes(e.fdtree,5),i.F.codes2map(e.fdtree,5,e.fdmap),i.F.revCodes(e.fdtree,5),n(e.itree,19,0),n(e.ltree,286,0),n(e.dtree,30,0),n(e.ttree,320,0)}();var s,f=(s={__proto__:null,default:o},[o].forEach(function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach(function(t){if("default"!==t&&!(t in s)){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(s,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}})}),Object.freeze(s));const c=function(){var e={nextZero(e,t){for(;0!=e[t];)t++;return t},readUshort:(e,t)=>e[t]<<8|e[t+1],writeUshort(e,t,r){e[t]=r>>8&255,e[t+1]=255&r},readUint:(e,t)=>16777216*e[t]+(e[t+1]<<16|e[t+2]<<8|e[t+3]),writeUint(e,t,r){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r},readASCII(e,t,r){let n="";for(let i=0;i<r;i++)n+=String.fromCharCode(e[t+i]);return n},writeASCII(e,t,r){for(let n=0;n<r.length;n++)e[t+n]=r.charCodeAt(n)},readBytes(e,t,r){const n=[];for(let i=0;i<r;i++)n.push(e[t+i]);return n},pad:e=>e.length<2?`0${e}`:e,readUTF8(t,r,n){let i,o="";for(let s=0;s<n;s++)o+=`%${e.pad(t[r+s].toString(16))}`;try{i=decodeURIComponent(o)}catch(a){return e.readASCII(t,r,n)}return i}};function t(t,r,n,i){const a=r*n,s=o(i),f=Math.ceil(r*s/8),c=new Uint8Array(4*a),l=new Uint32Array(c.buffer),{ctype:u}=i,{depth:h}=i,d=e.readUshort;if(6==u){const e=a<<2;if(8==h)for(var g=0;g<e;g+=4)c[g]=t[g],c[g+1]=t[g+1],c[g+2]=t[g+2],c[g+3]=t[g+3];if(16==h)for(g=0;g<e;g++)c[g]=t[g<<1]}else if(2==u){const e=i.tabs.tRNS;if(null==e){if(8==h)for(g=0;g<a;g++){var p=3*g;l[g]=255<<24|t[p+2]<<16|t[p+1]<<8|t[p]}if(16==h)for(g=0;g<a;g++)p=6*g,l[g]=255<<24|t[p+4]<<16|t[p+2]<<8|t[p]}else{var A=e[0];const r=e[1],n=e[2];if(8==h)for(g=0;g<a;g++){var w=g<<2;p=3*g,l[g]=255<<24|t[p+2]<<16|t[p+1]<<8|t[p],t[p]==A&&t[p+1]==r&&t[p+2]==n&&(c[w+3]=0)}if(16==h)for(g=0;g<a;g++)w=g<<2,p=6*g,l[g]=255<<24|t[p+4]<<16|t[p+2]<<8|t[p],d(t,p)==A&&d(t,p+2)==r&&d(t,p+4)==n&&(c[w+3]=0)}}else if(3==u){const e=i.tabs.PLTE,o=i.tabs.tRNS,s=o?o.length:0;if(1==h)for(var m=0;m<n;m++){var v=m*f,b=m*r;for(g=0;g<r;g++){w=b+g<<2;var y=3*(U=t[v+(g>>3)]>>7-(7&g)&1);c[w]=e[y],c[w+1]=e[y+1],c[w+2]=e[y+2],c[w+3]=U<s?o[U]:255}}if(2==h)for(m=0;m<n;m++)for(v=m*f,b=m*r,g=0;g<r;g++)w=b+g<<2,y=3*(U=t[v+(g>>2)]>>6-((3&g)<<1)&3),c[w]=e[y],c[w+1]=e[y+1],c[w+2]=e[y+2],c[w+3]=U<s?o[U]:255;if(4==h)for(m=0;m<n;m++)for(v=m*f,b=m*r,g=0;g<r;g++)w=b+g<<2,y=3*(U=t[v+(g>>1)]>>4-((1&g)<<2)&15),c[w]=e[y],c[w+1]=e[y+1],c[w+2]=e[y+2],c[w+3]=U<s?o[U]:255;if(8==h)for(g=0;g<a;g++){var U;w=g<<2,y=3*(U=t[g]),c[w]=e[y],c[w+1]=e[y+1],c[w+2]=e[y+2],c[w+3]=U<s?o[U]:255}}else if(4==u){if(8==h)for(g=0;g<a;g++){w=g<<2;var F=t[E=g<<1];c[w]=F,c[w+1]=F,c[w+2]=F,c[w+3]=t[E+1]}if(16==h)for(g=0;g<a;g++){var E;w=g<<2,F=t[E=g<<2],c[w]=F,c[w+1]=F,c[w+2]=F,c[w+3]=t[E+2]}}else if(0==u)for(A=i.tabs.tRNS?i.tabs.tRNS:-1,m=0;m<n;m++){const e=m*f,n=m*r;if(1==h)for(var C=0;C<r;C++){var _=(F=255*(t[e+(C>>>3)]>>>7-(7&C)&1))==255*A?0:255;l[n+C]=_<<24|F<<16|F<<8|F}else if(2==h)for(C=0;C<r;C++)_=(F=85*(t[e+(C>>>2)]>>>6-((3&C)<<1)&3))==85*A?0:255,l[n+C]=_<<24|F<<16|F<<8|F;else if(4==h)for(C=0;C<r;C++)_=(F=17*(t[e+(C>>>1)]>>>4-((1&C)<<2)&15))==17*A?0:255,l[n+C]=_<<24|F<<16|F<<8|F;else if(8==h)for(C=0;C<r;C++)_=(F=t[e+C])==A?0:255,l[n+C]=_<<24|F<<16|F<<8|F;else if(16==h)for(C=0;C<r;C++)F=t[e+(C<<1)],_=d(t,e+(C<<1))==A?0:255,l[n+C]=_<<24|F<<16|F<<8|F}return c}function r(e,t,r,s){const f=o(e),c=Math.ceil(r*f/8),l=new Uint8Array((c+1+e.interlace)*s);return t=e.tabs.CgBI?i(t,l):n(t,l),0==e.interlace?t=a(t,e,0,r,s):1==e.interlace&&(t=function(e,t){const r=t.width,n=t.height,i=o(t),s=i>>3,f=Math.ceil(r*i/8),c=new Uint8Array(n*f);let l=0;const u=[0,0,4,0,2,0,1],h=[0,4,0,2,0,1,0],d=[8,8,8,4,4,2,2],g=[8,8,4,4,2,2,1];let p=0;for(;p<7;){const o=d[p],w=g[p];let m=0,v=0,b=u[p];for(;b<n;)b+=o,v++;let y=h[p];for(;y<r;)y+=w,m++;const U=Math.ceil(m*i/8);a(e,t,l,m,v);let F=0,E=u[p];for(;E<n;){let t=h[p],n=l+F*U<<3;for(;t<r;){var A;if(1==i&&(A=(A=e[n>>3])>>7-(7&n)&1,c[E*f+(t>>3)]|=A<<7-(7&t)),2==i&&(A=(A=e[n>>3])>>6-(7&n)&3,c[E*f+(t>>2)]|=A<<6-((3&t)<<1)),4==i&&(A=(A=e[n>>3])>>4-(7&n)&15,c[E*f+(t>>1)]|=A<<4-((1&t)<<2)),i>=8){const r=E*f+t*s;for(let t=0;t<s;t++)c[r+t]=e[(n>>3)+t]}n+=i,t+=w}F++,E+=o}m*v!=0&&(l+=v*(1+U)),p+=1}return c}(t,e)),t}function n(e,t){return i(new Uint8Array(e.buffer,2,e.length-6),t)}var i=function(){const e={H:{}};return e.H.N=function(t,r){const n=Uint8Array;let i,o,a=0,s=0,f=0,c=0,l=0,u=0,h=0,d=0,g=0;if(3==t[0]&&0==t[1])return r||new n(0);const p=e.H,A=p.b,w=p.e,m=p.R,v=p.n,b=p.A,y=p.Z,U=p.m,F=null==r;for(F&&(r=new n(t.length>>>2<<5));0==a;)if(a=A(t,g,1),s=A(t,g+1,2),g+=3,0!=s){if(F&&(r=e.H.W(r,d+(1<<17))),1==s&&(i=U.J,o=U.h,u=511,h=31),2==s){f=w(t,g,5)+257,c=w(t,g+5,5)+1,l=w(t,g+10,4)+4,g+=14;let e=1;for(var E=0;E<38;E+=2)U.Q[E]=0,U.Q[E+1]=0;for(E=0;E<l;E++){const r=w(t,g+3*E,3);U.Q[1+(U.X[E]<<1)]=r,r>e&&(e=r)}g+=3*l,v(U.Q,e),b(U.Q,e,U.u),i=U.w,o=U.d,g=m(U.u,(1<<e)-1,f+c,t,g,U.v);const r=p.V(U.v,0,f,U.C);u=(1<<r)-1;const n=p.V(U.v,f,c,U.D);h=(1<<n)-1,v(U.C,r),b(U.C,r,i),v(U.D,n),b(U.D,n,o)}for(;;){const e=i[y(t,g)&u];g+=15&e;const n=e>>>4;if(n>>>8==0)r[d++]=n;else{if(256==n)break;{let e=d+n-254;if(n>264){const r=U.q[n-257];e=d+(r>>>3)+w(t,g,7&r),g+=7&r}const i=o[y(t,g)&h];g+=15&i;const a=i>>>4,s=U.c[a],f=(s>>>4)+A(t,g,15&s);for(g+=15&s;d<e;)r[d]=r[d++-f],r[d]=r[d++-f],r[d]=r[d++-f],r[d]=r[d++-f];d=e}}}}else{7&g&&(g+=8-(7&g));const i=4+(g>>>3),o=t[i-4]|t[i-3]<<8;F&&(r=e.H.W(r,d+o)),r.set(new n(t.buffer,t.byteOffset+i,o),d),g=i+o<<3,d+=o}return r.length==d?r:r.slice(0,d)},e.H.W=function(e,t){const r=e.length;if(t<=r)return e;const n=new Uint8Array(r<<1);return n.set(e,0),n},e.H.R=function(t,r,n,i,o,a){const s=e.H.e,f=e.H.Z;let c=0;for(;c<n;){const e=t[f(i,o)&r];o+=15&e;const n=e>>>4;if(n<=15)a[c]=n,c++;else{let e=0,t=0;16==n?(t=3+s(i,o,2),o+=2,e=a[c-1]):17==n?(t=3+s(i,o,3),o+=3):18==n&&(t=11+s(i,o,7),o+=7);const r=c+t;for(;c<r;)a[c]=e,c++}}return o},e.H.V=function(e,t,r,n){let i=0,o=0;const a=n.length>>>1;for(;o<r;){const r=e[o+t];n[o<<1]=0,n[1+(o<<1)]=r,r>i&&(i=r),o++}for(;o<a;)n[o<<1]=0,n[1+(o<<1)]=0,o++;return i},e.H.n=function(t,r){const n=e.H.m,i=t.length;let o,a,s,f;const c=n.j;for(var l=0;l<=r;l++)c[l]=0;for(l=1;l<i;l+=2)c[t[l]]++;const u=n.K;for(o=0,c[0]=0,a=1;a<=r;a++)o=o+c[a-1]<<1,u[a]=o;for(s=0;s<i;s+=2)f=t[s+1],0!=f&&(t[s]=u[f],u[f]++)},e.H.A=function(t,r,n){const i=t.length,o=e.H.m.r;for(let e=0;e<i;e+=2)if(0!=t[e+1]){const i=e>>1,a=t[e+1],s=i<<4|a,f=r-a;let c=t[e]<<f;const l=c+(1<<f);for(;c!=l;)n[o[c]>>>15-r]=s,c++}},e.H.l=function(t,r){const n=e.H.m.r,i=15-r;for(let e=0;e<t.length;e+=2){const o=t[e]<<r-t[e+1];t[e]=n[o]>>>i}},e.H.M=function(e,t,r){r<<=7&t;const n=t>>>3;e[n]|=r,e[n+1]|=r>>>8},e.H.I=function(e,t,r){r<<=7&t;const n=t>>>3;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},e.H.e=function(e,t,r){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<r)-1},e.H.b=function(e,t,r){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<r)-1},e.H.Z=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},e.H.i=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},e.H.m=function(){const e=Uint16Array,t=Uint32Array;return{K:new e(16),j:new e(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new e(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new t(32),J:new e(512),_:[],h:new e(32),$:[],w:new e(32768),C:[],v:[],d:new e(32768),D:[],u:new e(512),Q:[],r:new e(32768),s:new t(286),Y:new t(30),a:new t(19),t:new t(15e3),k:new e(65536),g:new e(32768)}}(),function(){const t=e.H.m;for(var r=0;r<32768;r++){let e=r;e=(2863311530&e)>>>1|(1431655765&e)<<1,e=(3435973836&e)>>>2|(858993459&e)<<2,e=(4042322160&e)>>>4|(252645135&e)<<4,e=(4278255360&e)>>>8|(16711935&e)<<8,t.r[r]=(e>>>16|e<<16)>>>17}function n(e,t,r){for(;0!=t--;)e.push(0,r)}for(r=0;r<32;r++)t.q[r]=t.S[r]<<3|t.T[r],t.c[r]=t.p[r]<<4|t.z[r];n(t._,144,8),n(t._,112,9),n(t._,24,7),n(t._,8,8),e.H.n(t._,9),e.H.A(t._,9,t.J),e.H.l(t._,9),n(t.$,32,5),e.H.n(t.$,5),e.H.A(t.$,5,t.h),e.H.l(t.$,5),n(t.Q,19,0),n(t.C,286,0),n(t.D,30,0),n(t.v,320,0)}(),e.H.N}();function o(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth}function a(e,t,r,n,i){let a=o(t);const f=Math.ceil(n*a/8);let c,l;a=Math.ceil(a/8);let u=e[r],h=0;if(u>1&&(e[r]=[0,0,1][u-2]),3==u)for(h=a;h<f;h++)e[h+1]=e[h+1]+(e[h+1-a]>>>1)&255;for(let o=0;o<i;o++)if(c=r+o*f,l=c+o+1,u=e[l-1],h=0,0==u)for(;h<f;h++)e[c+h]=e[l+h];else if(1==u){for(;h<a;h++)e[c+h]=e[l+h];for(;h<f;h++)e[c+h]=e[l+h]+e[c+h-a]}else if(2==u)for(;h<f;h++)e[c+h]=e[l+h]+e[c+h-f];else if(3==u){for(;h<a;h++)e[c+h]=e[l+h]+(e[c+h-f]>>>1);for(;h<f;h++)e[c+h]=e[l+h]+(e[c+h-f]+e[c+h-a]>>>1)}else{for(;h<a;h++)e[c+h]=e[l+h]+s(0,e[c+h-f],0);for(;h<f;h++)e[c+h]=e[l+h]+s(e[c+h-a],e[c+h-f],e[c+h-a-f])}return e}function s(e,t,r){const n=e+t-r,i=n-e,o=n-t,a=n-r;return i*i<=o*o&&i*i<=a*a?e:o*o<=a*a?t:r}function f(t,r,n){n.width=e.readUint(t,r),r+=4,n.height=e.readUint(t,r),r+=4,n.depth=t[r],r++,n.ctype=t[r],r++,n.compress=t[r],r++,n.filter=t[r],r++,n.interlace=t[r],r++}function c(e,t,r,n,i,o,a,s,f){const c=Math.min(t,i),l=Math.min(r,o);let u=0,h=0;for(let y=0;y<l;y++)for(let r=0;r<c;r++)if(a>=0&&s>=0?(u=y*t+r<<2,h=(s+y)*i+a+r<<2):(u=(-s+y)*t-a+r<<2,h=y*i+r<<2),0==f)n[h]=e[u],n[h+1]=e[u+1],n[h+2]=e[u+2],n[h+3]=e[u+3];else if(1==f){var d=e[u+3]*(1/255),g=e[u]*d,p=e[u+1]*d,A=e[u+2]*d,w=n[h+3]*(1/255),m=n[h]*w,v=n[h+1]*w,b=n[h+2]*w;const t=1-d,r=d+w*t,i=0==r?0:1/r;n[h+3]=255*r,n[h+0]=(g+m*t)*i,n[h+1]=(p+v*t)*i,n[h+2]=(A+b*t)*i}else if(2==f)d=e[u+3],g=e[u],p=e[u+1],A=e[u+2],w=n[h+3],m=n[h],v=n[h+1],b=n[h+2],d==w&&g==m&&p==v&&A==b?(n[h]=0,n[h+1]=0,n[h+2]=0,n[h+3]=0):(n[h]=g,n[h+1]=p,n[h+2]=A,n[h+3]=d);else if(3==f){if(d=e[u+3],g=e[u],p=e[u+1],A=e[u+2],w=n[h+3],m=n[h],v=n[h+1],b=n[h+2],d==w&&g==m&&p==v&&A==b)continue;if(d<220&&w>20)return!1}return!0}return{decode:function(t){const o=new Uint8Array(t);let a=8;const s=e,c=s.readUshort,l=s.readUint,u={tabs:{},frames:[]},h=new Uint8Array(o.length);let d,g=0,p=0;const A=[137,80,78,71,13,10,26,10];for(var w=0;w<8;w++)if(o[w]!=A[w])throw"The input is not a PNG file!";for(;a<o.length;){const e=s.readUint(o,a);a+=4;const t=s.readASCII(o,a,4);if(a+=4,"IHDR"==t)f(o,a,u);else if("iCCP"==t){for(var m=a;0!=o[m];)m++;s.readASCII(o,a,m-a),o[m+1];const r=o.slice(m+2,a+e);let f=null;try{f=n(r)}catch(C){f=i(r)}u.tabs[t]=f}else if("CgBI"==t)u.tabs[t]=o.slice(a,a+4);else if("IDAT"==t){for(w=0;w<e;w++)h[g+w]=o[a+w];g+=e}else if("acTL"==t)u.tabs[t]={num_frames:l(o,a),num_plays:l(o,a+4)},d=new Uint8Array(o.length);else if("fcTL"==t){0!=p&&((E=u.frames[u.frames.length-1]).data=r(u,d.slice(0,p),E.rect.width,E.rect.height),p=0);const e={x:l(o,a+12),y:l(o,a+16),width:l(o,a+4),height:l(o,a+8)};let t=c(o,a+22);t=c(o,a+20)/(0==t?100:t);const n={rect:e,delay:Math.round(1e3*t),dispose:o[a+24],blend:o[a+25]};u.frames.push(n)}else if("fdAT"==t){for(w=0;w<e-4;w++)d[p+w]=o[a+w+4];p+=e-4}else if("pHYs"==t)u.tabs[t]=[s.readUint(o,a),s.readUint(o,a+4),o[a+8]];else if("cHRM"==t)for(u.tabs[t]=[],w=0;w<8;w++)u.tabs[t].push(s.readUint(o,a+4*w));else if("tEXt"==t||"zTXt"==t){null==u.tabs[t]&&(u.tabs[t]={});var v=s.nextZero(o,a),b=s.readASCII(o,a,v-a),y=a+e-v-1;if("tEXt"==t)F=s.readASCII(o,v+1,y);else{var U=n(o.slice(v+2,v+2+y));F=s.readUTF8(U,0,U.length)}u.tabs[t][b]=F}else if("iTXt"==t){null==u.tabs[t]&&(u.tabs[t]={}),v=0,m=a,v=s.nextZero(o,m),b=s.readASCII(o,m,v-m);const r=o[m=v+1];var F;o[m+1],m+=2,v=s.nextZero(o,m),s.readASCII(o,m,v-m),m=v+1,v=s.nextZero(o,m),s.readUTF8(o,m,v-m),y=e-((m=v+1)-a),0==r?F=s.readUTF8(o,m,y):(U=n(o.slice(m,m+y)),F=s.readUTF8(U,0,U.length)),u.tabs[t][b]=F}else if("PLTE"==t)u.tabs[t]=s.readBytes(o,a,e);else if("hIST"==t){const e=u.tabs.PLTE.length/3;for(u.tabs[t]=[],w=0;w<e;w++)u.tabs[t].push(c(o,a+2*w))}else if("tRNS"==t)3==u.ctype?u.tabs[t]=s.readBytes(o,a,e):0==u.ctype?u.tabs[t]=c(o,a):2==u.ctype&&(u.tabs[t]=[c(o,a),c(o,a+2),c(o,a+4)]);else if("gAMA"==t)u.tabs[t]=s.readUint(o,a)/1e5;else if("sRGB"==t)u.tabs[t]=o[a];else if("bKGD"==t)0==u.ctype||4==u.ctype?u.tabs[t]=[c(o,a)]:2==u.ctype||6==u.ctype?u.tabs[t]=[c(o,a),c(o,a+2),c(o,a+4)]:3==u.ctype&&(u.tabs[t]=o[a]);else if("IEND"==t)break;a+=e,s.readUint(o,a),a+=4}var E;return 0!=p&&((E=u.frames[u.frames.length-1]).data=r(u,d.slice(0,p),E.rect.width,E.rect.height)),u.data=r(u,h,u.width,u.height),delete u.compress,delete u.interlace,delete u.filter,u},toRGBA8:function(e){const r=e.width,n=e.height;if(null==e.tabs.acTL)return[t(e.data,r,n,e).buffer];const i=[];null==e.frames[0].data&&(e.frames[0].data=e.data);const o=r*n*4,a=new Uint8Array(o),s=new Uint8Array(o),f=new Uint8Array(o);for(let u=0;u<e.frames.length;u++){const h=e.frames[u],d=h.rect.x,g=h.rect.y,p=h.rect.width,A=h.rect.height,w=t(h.data,p,A,e);if(0!=u)for(var l=0;l<o;l++)f[l]=a[l];if(0==h.blend?c(w,p,A,a,r,n,d,g,0):1==h.blend&&c(w,p,A,a,r,n,d,g,1),i.push(a.buffer.slice(0)),0==h.dispose);else if(1==h.dispose)c(s,p,A,a,r,n,d,g,0);else if(2==h.dispose)for(l=0;l<o;l++)a[l]=f[l]}return i},_paeth:s,_copyTile:c,_bin:e}}();!function(){const{_copyTile:e}=c,{_bin:t}=c,r=c._paeth;var n={table:function(){const e=new Uint32Array(256);for(let t=0;t<256;t++){let r=t;for(let e=0;e<8;e++)1&r?r=3988292384^r>>>1:r>>>=1;e[t]=r}return e}(),update(e,t,r,i){for(let o=0;o<i;o++)e=n.table[255&(e^t[r+o])]^e>>>8;return e},crc:(e,t,r)=>4294967295^n.update(4294967295,e,t,r)};function i(e,t,r,n){t[r]+=e[0]*n>>4,t[r+1]+=e[1]*n>>4,t[r+2]+=e[2]*n>>4,t[r+3]+=e[3]*n>>4}function o(e){return Math.max(0,Math.min(255,e))}function a(e,t){const r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return r*r+n*n+i*i+o*o}function s(e,t,r,n,s,f,c){null==c&&(c=1);const l=n.length,u=[];for(var h=0;h<l;h++){const e=n[h];u.push([e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255])}for(h=0;h<l;h++){let e=4294967295;for(var d=0,g=0;g<l;g++){var p=a(u[h],u[g]);g!=h&&p<e&&(e=p,d=g)}}const A=new Uint32Array(s.buffer),w=new Int16Array(t*r*4),m=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(h=0;h<m.length;h++)m[h]=255*((m[h]+.5)/16-.5);for(let b=0;b<r;b++)for(let s=0;s<t;s++){var v;h=4*(b*t+s),2!=c?v=[o(e[h]+w[h]),o(e[h+1]+w[h+1]),o(e[h+2]+w[h+2]),o(e[h+3]+w[h+3])]:(p=m[4*(3&b)+(3&s)],v=[o(e[h]+p),o(e[h+1]+p),o(e[h+2]+p),o(e[h+3]+p)]),d=0;let y=16777215;for(g=0;g<l;g++){const e=a(v,u[g]);e<y&&(y=e,d=g)}const U=u[d],F=[v[0]-U[0],v[1]-U[1],v[2]-U[2],v[3]-U[3]];1==c&&(s!=t-1&&i(F,w,h+4,7),b!=r-1&&(0!=s&&i(F,w,h+4*t-4,3),i(F,w,h+4*t,5),s!=t-1&&i(F,w,h+4*t+4,1))),f[h>>2]=d,A[h>>2]=n[d]}}function l(e,r,i,o,a){null==a&&(a={});const{crc:s}=n,f=t.writeUint,c=t.writeUshort,l=t.writeASCII;let u=8;const h=e.frames.length>1;let d,g=!1,p=33+(h?20:0);if(null!=a.sRGB&&(p+=13),null!=a.pHYs&&(p+=21),null!=a.iCCP&&(d=pako.deflate(a.iCCP),p+=21+d.length+4),3==e.ctype){for(var A=e.plte.length,w=0;w<A;w++)e.plte[w]>>>24!=255&&(g=!0);p+=8+3*A+4+(g?8+1*A+4:0)}for(var m=0;m<e.frames.length;m++)h&&(p+=38),p+=(U=e.frames[m]).cimg.length+12,0!=m&&(p+=4);p+=12;const v=new Uint8Array(p),b=[137,80,78,71,13,10,26,10];for(w=0;w<8;w++)v[w]=b[w];if(f(v,u,13),u+=4,l(v,u,"IHDR"),u+=4,f(v,u,r),u+=4,f(v,u,i),u+=4,v[u]=e.depth,u++,v[u]=e.ctype,u++,v[u]=0,u++,v[u]=0,u++,v[u]=0,u++,f(v,u,s(v,u-17,17)),u+=4,null!=a.sRGB&&(f(v,u,1),u+=4,l(v,u,"sRGB"),u+=4,v[u]=a.sRGB,u++,f(v,u,s(v,u-5,5)),u+=4),null!=a.iCCP){const e=13+d.length;f(v,u,e),u+=4,l(v,u,"iCCP"),u+=4,l(v,u,"ICC profile"),u+=11,u+=2,v.set(d,u),u+=d.length,f(v,u,s(v,u-(e+4),e+4)),u+=4}if(null!=a.pHYs&&(f(v,u,9),u+=4,l(v,u,"pHYs"),u+=4,f(v,u,a.pHYs[0]),u+=4,f(v,u,a.pHYs[1]),u+=4,v[u]=a.pHYs[2],u++,f(v,u,s(v,u-13,13)),u+=4),h&&(f(v,u,8),u+=4,l(v,u,"acTL"),u+=4,f(v,u,e.frames.length),u+=4,f(v,u,null!=a.loop?a.loop:0),u+=4,f(v,u,s(v,u-12,12)),u+=4),3==e.ctype){for(f(v,u,3*(A=e.plte.length)),u+=4,l(v,u,"PLTE"),u+=4,w=0;w<A;w++){const t=3*w,r=e.plte[w],n=255&r,i=r>>>8&255,o=r>>>16&255;v[u+t+0]=n,v[u+t+1]=i,v[u+t+2]=o}if(u+=3*A,f(v,u,s(v,u-3*A-4,3*A+4)),u+=4,g){for(f(v,u,A),u+=4,l(v,u,"tRNS"),u+=4,w=0;w<A;w++)v[u+w]=e.plte[w]>>>24&255;u+=A,f(v,u,s(v,u-A-4,A+4)),u+=4}}let y=0;for(m=0;m<e.frames.length;m++){var U=e.frames[m];h&&(f(v,u,26),u+=4,l(v,u,"fcTL"),u+=4,f(v,u,y++),u+=4,f(v,u,U.rect.width),u+=4,f(v,u,U.rect.height),u+=4,f(v,u,U.rect.x),u+=4,f(v,u,U.rect.y),u+=4,c(v,u,o[m]),u+=2,c(v,u,1e3),u+=2,v[u]=U.dispose,u++,v[u]=U.blend,u++,f(v,u,s(v,u-30,30)),u+=4);const t=U.cimg;f(v,u,(A=t.length)+(0==m?0:4)),u+=4;const r=u;l(v,u,0==m?"IDAT":"fdAT"),u+=4,0!=m&&(f(v,u,y++),u+=4),v.set(t,u),u+=A,f(v,u,s(v,r,u-r)),u+=4}return f(v,u,0),u+=4,l(v,u,"IEND"),u+=4,f(v,u,s(v,u-4,4)),u+=4,v.buffer}function u(e,t,r){for(let n=0;n<e.frames.length;n++){const i=e.frames[n];i.rect.width;const o=i.rect.height,a=new Uint8Array(o*i.bpl+o);i.cimg=p(i.img,o,i.bpp,i.bpl,a,t,r)}}function h(t,r,n,i,o){const a=o[0],f=o[1],c=o[2],l=o[3],u=o[4],h=o[5];let p=6,A=8,m=255;for(var v=0;v<t.length;v++){const e=new Uint8Array(t[v]);for(var b=e.length,y=0;y<b;y+=4)m&=e[y+3]}const U=255!=m,F=function(t,r,n,i,o,a){const s=[];for(var f=0;f<t.length;f++){const u=new Uint8Array(t[f]),d=new Uint32Array(u.buffer);var c;let p=0,A=0,w=r,m=n,v=i?1:0;if(0!=f){const b=a||i||1==f||0!=s[f-2].dispose?1:2;let y=0,U=1e9;for(let e=0;e<b;e++){var l=new Uint8Array(t[f-1-e]);const i=new Uint32Array(t[f-1-e]);let a=r,s=n,c=-1,u=-1;for(let e=0;e<n;e++)for(let t=0;t<r;t++)d[h=e*r+t]!=i[h]&&(t<a&&(a=t),t>c&&(c=t),e<s&&(s=e),e>u&&(u=e));-1==c&&(a=s=c=u=0),o&&(!(1&~a)&&a--,!(1&~s)&&s--);const g=(c-a+1)*(u-s+1);g<U&&(U=g,y=e,p=a,A=s,w=c-a+1,m=u-s+1)}l=new Uint8Array(t[f-1-y]),1==y&&(s[f-1].dispose=2),c=new Uint8Array(w*m*4),e(l,r,n,c,w,m,-p,-A,0),v=e(u,r,n,c,w,m,-p,-A,3)?1:0,1==v?g(u,r,n,c,{x:p,y:A,width:w,height:m}):e(u,r,n,c,w,m,-p,-A,0)}else c=u.slice(0);s.push({rect:{x:p,y:A,width:w,height:m},img:c,blend:v,dispose:0})}if(i)for(f=0;f<s.length;f++){if(1==(p=s[f]).blend)continue;const e=p.rect,i=s[f-1].rect,a=Math.min(e.x,i.x),c=Math.min(e.y,i.y),l={x:a,y:c,width:Math.max(e.x+e.width,i.x+i.width)-a,height:Math.max(e.y+e.height,i.y+i.height)-c};s[f-1].dispose=1,f-1!=0&&d(t,r,n,s,f-1,l,o),d(t,r,n,s,f,l,o)}let u=0;if(1!=t.length)for(var h=0;h<s.length;h++){var p;u+=(p=s[h]).rect.width*p.rect.height}return s}(t,r,n,a,f,c),E={},C=[],_=[];if(0!=i){const e=[];for(y=0;y<F.length;y++)e.push(F[y].img.buffer);const t=w(function(e){let t=0;for(var r=0;r<e.length;r++)t+=e[r].byteLength;const n=new Uint8Array(t);let i=0;for(r=0;r<e.length;r++){const t=new Uint8Array(e[r]),o=t.length;for(let e=0;e<o;e+=4){let r=t[e],o=t[e+1],a=t[e+2];const s=t[e+3];0==s&&(r=o=a=0),n[i+e]=r,n[i+e+1]=o,n[i+e+2]=a,n[i+e+3]=s}i+=o}return n.buffer}(e),i);for(y=0;y<t.plte.length;y++)C.push(t.plte[y].est.rgba);let r=0;for(y=0;y<F.length;y++){const e=(B=F[y]).img.length;var I=new Uint8Array(t.inds.buffer,r>>2,e>>2);_.push(I);const n=new Uint8Array(t.abuf,r,e);h&&s(B.img,B.rect.width,B.rect.height,C,n,I),B.img.set(n),r+=e}}else for(v=0;v<F.length;v++){var B=F[v];const e=new Uint32Array(B.img.buffer);var M=B.rect.width;for(b=e.length,I=new Uint8Array(b),_.push(I),y=0;y<b;y++){const t=e[y];if(0!=y&&t==e[y-1])I[y]=I[y-1];else if(y>M&&t==e[y-M])I[y]=I[y-M];else{let e=E[t];if(null==e&&(E[t]=e=C.length,C.push(t),C.length>=300))break;I[y]=e}}}const x=C.length;for(x<=256&&0==u&&(A=x<=2?1:x<=4?2:x<=16?4:8,A=Math.max(A,l)),v=0;v<F.length;v++){(B=F[v]).rect.x,B.rect.y,M=B.rect.width;const e=B.rect.height;let t=B.img;new Uint32Array(t.buffer);let r=4*M,n=4;if(x<=256&&0==u){r=Math.ceil(A*M/8);var S=new Uint8Array(r*e);const i=_[v];for(let t=0;t<e;t++){y=t*r;const e=t*M;if(8==A)for(var R=0;R<M;R++)S[y+R]=i[e+R];else if(4==A)for(R=0;R<M;R++)S[y+(R>>1)]|=i[e+R]<<4-4*(1&R);else if(2==A)for(R=0;R<M;R++)S[y+(R>>2)]|=i[e+R]<<6-2*(3&R);else if(1==A)for(R=0;R<M;R++)S[y+(R>>3)]|=i[e+R]<<7-1*(7&R)}t=S,p=3,n=1}else if(0==U&&1==F.length){S=new Uint8Array(M*e*3);const i=M*e;for(y=0;y<i;y++){const e=3*y,r=4*y;S[e]=t[r],S[e+1]=t[r+1],S[e+2]=t[r+2]}t=S,p=2,n=3,r=3*M}B.img=t,B.bpl=r,B.bpp=n}return{ctype:p,depth:A,plte:C,frames:F}}function d(t,r,n,i,o,a,s){const f=Uint8Array,c=Uint32Array,l=new f(t[o-1]),u=new c(t[o-1]),h=o+1<t.length?new f(t[o+1]):null,d=new f(t[o]),p=new c(d.buffer);let A=r,w=n,m=-1,v=-1;for(let e=0;e<a.height;e++)for(let t=0;t<a.width;t++){const n=a.x+t,s=a.y+e,f=s*r+n,c=p[f];0==c||0==i[o-1].dispose&&u[f]==c&&(null==h||0!=h[4*f+3])||(n<A&&(A=n),n>m&&(m=n),s<w&&(w=s),s>v&&(v=s))}-1==m&&(A=w=m=v=0),s&&(!(1&~A)&&A--,!(1&~w)&&w--),a={x:A,y:w,width:m-A+1,height:v-w+1};const b=i[o];b.rect=a,b.blend=1,b.img=new Uint8Array(a.width*a.height*4),0==i[o-1].dispose?(e(l,r,n,b.img,a.width,a.height,-a.x,-a.y,0),g(d,r,n,b.img,a)):e(d,r,n,b.img,a.width,a.height,-a.x,-a.y,0)}function g(t,r,n,i,o){e(t,r,n,i,o.width,o.height,-o.x,-o.y,2)}function p(e,t,r,n,i,o,a){const s=[];let c,l=[0,1,2,3,4];-1!=o?l=[o]:(t*n>5e5||1==r)&&(l=[0]),a&&(c={level:0});const u=f;for(var h=0;h<l.length;h++){for(let o=0;o<t;o++)A(i,e,o,n,r,l[h]);s.push(u.deflate(i,c))}let d,g=1e9;for(h=0;h<s.length;h++)s[h].length<g&&(d=h,g=s[h].length);return s[d]}function A(e,t,n,i,o,a){const s=n*i;let f=s+n;if(e[f]=a,f++,0==a)if(i<500)for(var c=0;c<i;c++)e[f+c]=t[s+c];else e.set(new Uint8Array(t.buffer,s,i),f);else if(1==a){for(c=0;c<o;c++)e[f+c]=t[s+c];for(c=o;c<i;c++)e[f+c]=t[s+c]-t[s+c-o]+256&255}else if(0==n){for(c=0;c<o;c++)e[f+c]=t[s+c];if(2==a)for(c=o;c<i;c++)e[f+c]=t[s+c];if(3==a)for(c=o;c<i;c++)e[f+c]=t[s+c]-(t[s+c-o]>>1)+256&255;if(4==a)for(c=o;c<i;c++)e[f+c]=t[s+c]-r(t[s+c-o],0,0)+256&255}else{if(2==a)for(c=0;c<i;c++)e[f+c]=t[s+c]+256-t[s+c-i]&255;if(3==a){for(c=0;c<o;c++)e[f+c]=t[s+c]+256-(t[s+c-i]>>1)&255;for(c=o;c<i;c++)e[f+c]=t[s+c]+256-(t[s+c-i]+t[s+c-o]>>1)&255}if(4==a){for(c=0;c<o;c++)e[f+c]=t[s+c]+256-r(0,t[s+c-i],0)&255;for(c=o;c<i;c++)e[f+c]=t[s+c]+256-r(t[s+c-o],t[s+c-i],t[s+c-o-i])&255}}}function w(e,t){const r=new Uint8Array(e),n=r.slice(0),i=new Uint32Array(n.buffer),o=m(n,t),a=o[0],s=o[1],f=r.length,c=new Uint8Array(f>>2);let l;if(r.length<2e7)for(var u=0;u<f;u+=4)l=v(a,h=r[u]*(1/255),d=r[u+1]*(1/255),g=r[u+2]*(1/255),p=r[u+3]*(1/255)),c[u>>2]=l.ind,i[u>>2]=l.est.rgba;else for(u=0;u<f;u+=4){var h=r[u]*(1/255),d=r[u+1]*(1/255),g=r[u+2]*(1/255),p=r[u+3]*(1/255);for(l=a;l.left;)l=b(l.est,h,d,g,p)<=0?l.left:l.right;c[u>>2]=l.ind,i[u>>2]=l.est.rgba}return{abuf:n.buffer,inds:c,plte:s}}function m(e,t,r){null==r&&(r=1e-4);const n=new Uint32Array(e.buffer),i={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};i.bst=F(e,i.i0,i.i1),i.est=E(i.bst);const o=[i];for(;o.length<t;){let t=0,i=0;for(var a=0;a<o.length;a++)o[a].est.L>t&&(t=o[a].est.L,i=a);if(t<r)break;const s=o[i],f=y(e,n,s.i0,s.i1,s.est.e,s.est.eMq255);if(s.i0>=f||s.i1<=f){s.est.L=0;continue}const c={i0:s.i0,i1:f,bst:null,est:null,tdst:0,left:null,right:null};c.bst=F(e,c.i0,c.i1),c.est=E(c.bst);const l={i0:f,i1:s.i1,bst:null,est:null,tdst:0,left:null,right:null};for(l.bst={R:[],m:[],N:s.bst.N-c.bst.N},a=0;a<16;a++)l.bst.R[a]=s.bst.R[a]-c.bst.R[a];for(a=0;a<4;a++)l.bst.m[a]=s.bst.m[a]-c.bst.m[a];l.est=E(l.bst),s.left=c,s.right=l,o[i]=c,o.push(l)}for(o.sort((e,t)=>t.bst.N-e.bst.N),a=0;a<o.length;a++)o[a].ind=a;return[i,o]}function v(e,t,r,n,i){if(null==e.left)return e.tdst=function(e,t,r,n,i){const o=t-e[0],a=r-e[1],s=n-e[2],f=i-e[3];return o*o+a*a+s*s+f*f}(e.est.q,t,r,n,i),e;const o=b(e.est,t,r,n,i);let a=e.left,s=e.right;o>0&&(a=e.right,s=e.left);const f=v(a,t,r,n,i);if(f.tdst<=o*o)return f;const c=v(s,t,r,n,i);return c.tdst<f.tdst?c:f}function b(e,t,r,n,i){const{e:o}=e;return o[0]*t+o[1]*r+o[2]*n+o[3]*i-e.eMq}function y(e,t,r,n,i,o){for(n-=4;r<n;){for(;U(e,r,i)<=o;)r+=4;for(;U(e,n,i)>o;)n-=4;if(r>=n)break;const a=t[r>>2];t[r>>2]=t[n>>2],t[n>>2]=a,r+=4,n-=4}for(;U(e,r,i)>o;)r-=4;return r+4}function U(e,t,r){return e[t]*r[0]+e[t+1]*r[1]+e[t+2]*r[2]+e[t+3]*r[3]}function F(e,t,r){const n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0],o=r-t>>2;for(let a=t;a<r;a+=4){const t=e[a]*(1/255),r=e[a+1]*(1/255),o=e[a+2]*(1/255),s=e[a+3]*(1/255);i[0]+=t,i[1]+=r,i[2]+=o,i[3]+=s,n[0]+=t*t,n[1]+=t*r,n[2]+=t*o,n[3]+=t*s,n[5]+=r*r,n[6]+=r*o,n[7]+=r*s,n[10]+=o*o,n[11]+=o*s,n[15]+=s*s}return n[4]=n[1],n[8]=n[2],n[9]=n[6],n[12]=n[3],n[13]=n[7],n[14]=n[11],{R:n,m:i,N:o}}function E(e){const{R:t}=e,{m:r}=e,{N:n}=e,i=r[0],o=r[1],a=r[2],s=r[3],f=0==n?0:1/n,c=[t[0]-i*i*f,t[1]-i*o*f,t[2]-i*a*f,t[3]-i*s*f,t[4]-o*i*f,t[5]-o*o*f,t[6]-o*a*f,t[7]-o*s*f,t[8]-a*i*f,t[9]-a*o*f,t[10]-a*a*f,t[11]-a*s*f,t[12]-s*i*f,t[13]-s*o*f,t[14]-s*a*f,t[15]-s*s*f],l=c,u=C;let h=[Math.random(),Math.random(),Math.random(),Math.random()],d=0,g=0;if(0!=n)for(let A=0;A<16&&(h=u.multVec(l,h),g=Math.sqrt(u.dot(h,h)),h=u.sml(1/g,h),!(0!=A&&Math.abs(g-d)<1e-9));A++)d=g;const p=[i*f,o*f,a*f,s*f];return{Cov:c,q:p,e:h,L:d,eMq255:u.dot(u.sml(255,p),h),eMq:u.dot(h,p),rgba:(Math.round(255*p[3])<<24|Math.round(255*p[2])<<16|Math.round(255*p[1])<<8|Math.round(255*p[0]))>>>0}}var C={multVec:(e,t)=>[e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7]*t[3],e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11]*t[3],e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]*t[3]],dot:(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],sml:(e,t)=>[e*t[0],e*t[1],e*t[2],e*t[3]]};c.encode=function(e,t,r,n,i,o,a){null==n&&(n=0),null==a&&(a=!1);const s=h(e,t,r,n,[!1,!1,!1,0,a,!1]);return u(s,-1),l(s,t,r,i,o)},c.encodeLL=function(e,t,r,n,i,o,a,s){const f={ctype:0+(1==n?0:2)+(0==i?0:4),depth:o,frames:[]},c=(n+i)*o,h=c*t;for(let l=0;l<e.length;l++)f.frames.push({rect:{x:0,y:0,width:t,height:r},img:new Uint8Array(e[l]),blend:0,dispose:1,bpp:Math.ceil(c/8),bpl:Math.ceil(h/8)});return u(f,0,!0),l(f,t,r,a,s)},c.encode.compress=h,c.encode.dither=s,c.quantize=w,c.quantize.getKDtree=m,c.quantize.getNearest=v}();const l={toArrayBuffer(e,t){const r=e.width,n=e.height,i=r<<2,o=e.getContext("2d").getImageData(0,0,r,n),a=new Uint32Array(o.data.buffer),s=(32*r+31)/32<<2,f=s*n,c=122+f,u=new ArrayBuffer(c),h=new DataView(u),d=1<<20;let g,p,A,w,m=d,v=0,b=0,y=0;function U(e){h.setUint16(b,e,!0),b+=2}function F(e){h.setUint32(b,e,!0),b+=4}function E(e){b+=e}U(19778),F(c),E(4),F(122),F(108),F(r),F(-n>>>0),U(1),U(32),F(3),F(f),F(2835),F(2835),E(8),F(16711680),F(65280),F(255),F(4278190080),F(1466527264),function e(){for(;v<n&&m>0;){for(w=122+v*s,g=0;g<i;)m--,p=a[y++],A=p>>>24,h.setUint32(w+g,p<<8|A),g+=4;v++}y<a.length?(m=d,setTimeout(e,l._dly)):t(u)}()},toBlob(e,t){this.toArrayBuffer(e,e=>{t(new Blob([e],{type:"image/bmp"}))})},_dly:9};var u={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},h={[u.CHROME]:16384,[u.FIREFOX]:11180,[u.DESKTOP_SAFARI]:16384,[u.IE]:8192,[u.IOS]:4096,[u.ETC]:8192};const d="undefined"!=typeof window,g="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,p=d&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),A=(d||g)&&(p&&p.getOriginalSymbol(window,"File")||"undefined"!=typeof File&&File),w=(d||g)&&(p&&p.getOriginalSymbol(window,"FileReader")||"undefined"!=typeof FileReader&&FileReader);function m(e,t,r=Date.now()){return new Promise(n=>{const i=e.split(","),o=i[0].match(/:(.*?);/)[1],a=globalThis.atob(i[1]);let s=a.length;const f=new Uint8Array(s);for(;s--;)f[s]=a.charCodeAt(s);const c=new Blob([f],{type:o});c.name=t,c.lastModified=r,n(c)})}function v(e){return new Promise((t,r)=>{const n=new w;n.onload=()=>t(n.result),n.onerror=e=>r(e),n.readAsDataURL(e)})}function b(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>t(n),n.onerror=e=>r(e),n.src=e})}function y(){if(void 0!==y.cachedResult)return y.cachedResult;let e=u.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=u.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=u.IOS:/Safari/i.test(t)?e=u.DESKTOP_SAFARI:/Firefox/i.test(t)?e=u.FIREFOX:(/MSIE/i.test(t)||1==!!document.documentMode)&&(e=u.IE),y.cachedResult=e,y.cachedResult}function U(e,t){const r=y(),n=h[r];let i=e,o=t,a=i*o;const s=i>o?o/i:i/o;for(;a>n*n;){const e=(n+i)/2,t=(n+o)/2;e<t?(o=t,i=t*s):(o=e*s,i=e),a=i*o}return{width:i,height:o}}function F(e,t){let r,n;try{if(r=new OffscreenCanvas(e,t),n=r.getContext("2d"),null===n)throw new Error("getContext of OffscreenCanvas returns null")}catch(i){r=document.createElement("canvas"),n=r.getContext("2d")}return r.width=e,r.height=t,[r,n]}function E(e,t){const{width:r,height:n}=U(e.width,e.height),[i,o]=F(r,n);return t&&/jpe?g/.test(t)&&(o.fillStyle="white",o.fillRect(0,0,i.width,i.height)),o.drawImage(e,0,0,i.width,i.height),i}function C(){return void 0!==C.cachedResult||(C.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"undefined"!=typeof document&&"ontouchend"in document),C.cachedResult}function _(e,t={}){return new Promise(function(r,n){let i,o;var a=function(){try{return o=E(i,t.fileType||e.type),r([i,o])}catch(a){return n(a)}},s=function(t){try{var r=function(e){try{throw e}catch(t){return n(t)}};try{let t;return v(e).then(function(e){try{return t=e,b(t).then(function(e){try{return i=e,function(){try{return a()}catch(e){return n(e)}}()}catch(t){return r(t)}},r)}catch(o){return r(o)}},r)}catch(o){r(o)}}catch(o){return n(o)}};try{if(C()||[u.DESKTOP_SAFARI,u.MOBILE_SAFARI].includes(y()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(e){try{return i=e,a()}catch(t){return s()}},s)}catch(f){s()}})}function I(e,t,r,n,i=1){return new Promise(function(o,a){let s;if("image/png"===t){let o,a,l;return o=e.getContext("2d"),({data:a}=o.getImageData(0,0,e.width,e.height)),l=c.encode([a.buffer],e.width,e.height,4096*i),s=new Blob([l],{type:t}),s.name=r,s.lastModified=n,f.call(this)}{let o=function(){return f.call(this)};if("image/bmp"===t)return new Promise(t=>l.toBlob(e,t)).then(function(e){try{return s=e,s.name=r,s.lastModified=n,o.call(this)}catch(t){return a(t)}}.bind(this),a);{let f=function(){return o.call(this)};if("function"==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:i}).then(function(e){try{return s=e,s.name=r,s.lastModified=n,f.call(this)}catch(t){return a(t)}}.bind(this),a);{let o;return o=e.toDataURL(t,i),m(o,r,n).then(function(e){try{return s=e,f.call(this)}catch(t){return a(t)}}.bind(this),a)}}}function f(){return o(s)}})}function B(e){e.width=0,e.height=0}function M(){return new Promise(function(e,t){let r,n,i,o;return void 0!==M.cachedResult?e(M.cachedResult):m("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(a){try{return r=a,_(r).then(function(a){try{return n=a[1],I(n,r.type,r.name,r.lastModified).then(function(r){try{return i=r,B(n),_(i).then(function(r){try{return o=r[0],M.cachedResult=1===o.width&&2===o.height,e(M.cachedResult)}catch(n){return t(n)}},t)}catch(a){return t(a)}},t)}catch(s){return t(s)}},t)}catch(s){return t(s)}},t)})}function x(e){return new Promise((t,r)=>{const n=new w;n.onload=e=>{const r=new DataView(e.target.result);if(65496!=r.getUint16(0,!1))return t(-2);const n=r.byteLength;let i=2;for(;i<n;){if(r.getUint16(i+2,!1)<=8)return t(-1);const e=r.getUint16(i,!1);if(i+=2,65505==e){if(1165519206!=r.getUint32(i+=2,!1))return t(-1);const e=18761==r.getUint16(i+=6,!1);i+=r.getUint32(i+4,e);const n=r.getUint16(i,e);i+=2;for(let o=0;o<n;o++)if(274==r.getUint16(i+12*o,e))return t(r.getUint16(i+12*o+8,e))}else{if(65280&~e)break;i+=r.getUint16(i,!1)}}return t(-1)},n.onerror=e=>r(e),n.readAsArrayBuffer(e)})}function S(e,t){const{width:r}=e,{height:n}=e,{maxWidthOrHeight:i}=t;let o,a=e;return isFinite(i)&&(r>i||n>i)&&([a,o]=F(r,n),r>n?(a.width=i,a.height=n/r*i):(a.width=r/n*i,a.height=i),o.drawImage(e,0,0,a.width,a.height),B(e)),a}function R(e,t){const{width:r}=e,{height:n}=e,[i,o]=F(r,n);switch(t>4&&t<9?(i.width=n,i.height=r):(i.width=r,i.height=n),t){case 2:o.transform(-1,0,0,1,r,0);break;case 3:o.transform(-1,0,0,-1,r,n);break;case 4:o.transform(1,0,0,-1,0,n);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,n,0);break;case 7:o.transform(0,-1,-1,0,n,r);break;case 8:o.transform(0,-1,1,0,0,r)}return o.drawImage(e,0,0,r,n),B(e),i}function T(e,t,r=0){return new Promise(function(n,i){let o,a,s,f,c,l,u,h,d,g,p,A,w,m,v,b,y,U,E,C;function T(e=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;o+=e,t.onProgress(Math.min(o,100))}function Q(e){if(t.signal&&t.signal.aborted)throw t.signal.reason;o=Math.min(Math.max(e,o),100),t.onProgress(o)}return o=r,a=t.maxIteration||10,s=1024*t.maxSizeMB*1024,T(),_(e,t).then(function(r){try{return[,f]=r,T(),c=S(f,t),T(),new Promise(function(r,n){var i;if(!(i=t.exifOrientation))return x(e).then(function(e){try{return i=e,o.call(this)}catch(t){return n(t)}}.bind(this),n);function o(){return r(i)}return o.call(this)}).then(function(r){try{return l=r,T(),M().then(function(r){try{return u=r?c:R(c,l),T(),h=t.initialQuality||1,d=t.fileType||e.type,I(u,d,e.name,e.lastModified,h).then(function(r){try{{let l=function(){if(a--&&(v>s||v>w)){let t,r;return t=C?.95*E.width:E.width,r=C?.95*E.height:E.height,[y,U]=F(t,r),U.drawImage(E,0,0,t,r),h*="image/png"===d?.85:.95,I(y,d,e.name,e.lastModified,h).then(function(e){try{return b=e,B(E),E=y,v=b.size,Q(Math.min(99,Math.floor((m-v)/(m-s)*100))),l}catch(t){return i(t)}},i)}return[1]},_=function(){return B(E),B(y),B(c),B(u),B(f),Q(100),n(b)};return g=r,T(),p=g.size>s,A=g.size>e.size,p||A?(w=e.size,m=g.size,v=m,E=u,C=!t.alwaysKeepResolution&&p,(o=function(e){for(;e;){if(e.then)return void e.then(o,i);try{if(e.pop){if(e.length)return e.pop()?_.call(this):e;e=l}else e=e.call(this)}catch(t){return i(t)}}}.bind(this))(l)):(Q(100),n(g));var o}}catch(l){return i(l)}}.bind(this),i)}catch(o){return i(o)}}.bind(this),i)}catch(o){return i(o)}}.bind(this),i)}catch(o){return i(o)}}.bind(this),i)})}let Q;function k(t,r){return new Promise(function(n,i){let o,a,s,f,c,l;if(o={...r},s=0,({onProgress:f}=o),o.maxSizeMB=o.maxSizeMB||Number.POSITIVE_INFINITY,c="boolean"!=typeof o.useWebWorker||o.useWebWorker,delete o.useWebWorker,o.onProgress=e=>{s=e,"function"==typeof f&&f(s)},!(t instanceof Blob||t instanceof A))return i(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return i(new Error("The file given is not an image"));if(l="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!c||"function"!=typeof Worker||l)return T(t,o).then(function(e){try{return a=e,d.call(this)}catch(t){return i(t)}}.bind(this),i);var u=function(){try{return d.call(this)}catch(e){return i(e)}}.bind(this),h=function(e){try{return T(t,o).then(function(e){try{return a=e,u()}catch(t){return i(t)}},i)}catch(r){return i(r)}};try{return o.libURL=o.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",function(e,t){return new Promise((r,n)=>{Q||(Q=function(e){const t=[];return t.push(e),URL.createObjectURL(new Blob(t))}("\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n"));const i=new Worker(Q);i.addEventListener("message",function(e){if(t.signal&&t.signal.aborted)i.terminate();else if(void 0===e.data.progress){if(e.data.error)return n(new Error(e.data.error)),void i.terminate();r(e.data.file),i.terminate()}else t.onProgress(e.data.progress)}),i.addEventListener("error",n),t.signal&&t.signal.addEventListener("abort",()=>{n(t.signal.reason),i.terminate()}),i.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})})}(t,o).then(function(e){try{return a=e,u()}catch(t){return h()}},h)}catch(g){h()}function d(){try{a.name=t.name,a.lastModified=t.lastModified}catch(g){}try{o.preserveExif&&"image/jpeg"===t.type&&(!o.fileType||o.fileType&&o.fileType===t.type)&&(a=e(t,a))}catch(g){}return n(a)}})}k.getDataUrlFromFile=v,k.getFilefromDataUrl=m,k.loadImage=b,k.drawImageInCanvas=E,k.drawFileInCanvas=_,k.canvasToFile=I,k.getExifOrientation=x,k.handleMaxWidthOrHeight=S,k.followExifOrientation=R,k.cleanupCanvasMemory=B,k.isAutoOrientationInBrowser=M,k.approximateBelowMaximumCanvasSizeOfBrowser=U,k.copyExifWithoutOrientation=e,k.getBrowserName=y,k.version="2.0.2";const H=1920,O=1,P=.9,L={pool:[],maxSize:3,getCanvas(e,t){let r=this.pool.find(r=>r.width===e&&r.height===t);return r?this.pool=this.pool.filter(e=>e!==r):r=new OffscreenCanvas(e,t),r},returnCanvas(e){if(this.pool.length<this.maxSize){e.getContext("2d").clearRect(0,0,e.width,e.height),this.pool.push(e)}}};async function D(e,t){try{const r={maxSizeMB:t.maxSizeMB||O,maxWidthOrHeight:t.maxWidthOrHeight||H,useWebWorker:!1,fileType:t.fileType||e.type,quality:t.quality||P,...t};return await k(e,r)}catch(r){throw new Error(`Error en compresión: ${r.message}`)}}self.addEventListener("message",async e=>{const{type:t,data:r,id:n}=e.data;try{let e;switch(t){case"compress":e=await D(r.file,r.options);break;case"resize":e=await async function(e,t,r){const n=L.getCanvas(t,r),i=n.getContext("2d");i.imageSmoothingEnabled=!0,i.imageSmoothingQuality="high",i.drawImage(e,0,0,t,r);const o=await n.convertToBlob({type:"image/png",quality:1});return L.returnCanvas(n),o}(r.imageData,r.width,r.height);break;case"createIco":e=await async function(e,t){const r=[];for(const n of t){const t=L.getCanvas(n,n),i=t.getContext("2d");i.imageSmoothingEnabled=!0,i.imageSmoothingQuality="high",i.drawImage(e,0,0,n,n);const o=await t.convertToBlob({type:"image/png",quality:1});r.push({size:n,blob:o}),L.returnCanvas(t)}return r}(r.canvas,r.sizes);break;case"batchCompress":const o=[];for(let e=0;e<r.files.length;e++){const t=r.files[e],a=r.options[e]||r.defaultOptions;try{const r=await D(t,a);o.push({success:!0,file:r,index:e})}catch(i){o.push({success:!1,error:i.message,index:e})}self.postMessage({type:"progress",data:{progress:(e+1)/r.files.length*100,index:e},id:n})}e=o;break;default:throw new Error(`Tipo de operación no soportado: ${t}`)}self.postMessage({type:"success",data:e,id:n})}catch(i){self.postMessage({type:"error",data:{message:i.message},id:n})}}),self.postMessage({type:"ready",id:"init"})}();
